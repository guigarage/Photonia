<!DOCTYPE html>
<html>
<head>
    <link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="bower_components/iron-icon/iron-icon.html">
    <link rel="import" href="bower_components/paper-slider/paper-slider.html">
    <link rel="import" href="bower_components/paper-menu-button/paper-menu-button.html">
    <link rel="import" href="bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="bower_components/paper-item/paper-item.html">
    <link rel="import" href="collection-card.html">
</head>

<dom-module id="collection-view">
    <style>
        .paper-toolbar {
            background: orange;
        }

        .card-holder {
            margin: 24px;
        }

        .main-wrapper {
            background: darkslategray;
        }
    </style>

    <template>
        <paper-header-panel class="main-wrapper">

            <paper-toolbar class="medium-tall">
                <span class="title">Photonia</span>
                <paper-slider min="160" max="400"
                              on-immediate-value-change="eventCallback"></paper-slider>
                <paper-menu-button>
                    <paper-icon-button icon="more-vert" class="dropdown-trigger"></paper-icon-button>
                    <paper-menu class="dropdown-content">
                        <paper-item>Neues Album</paper-item>
                    </paper-menu>
                </paper-menu-button>
            </paper-toolbar>

            <div class="card-holder horizontal layout center-justified wrap">

                <template id="tasks" is="dom-repeat" items="{{collections}}">
                    <collection-card class=".collection-card" image-width={{imageWidth}}
                                     image-height={{imageHeight}}></collection-card>
                </template>

            </div>
        </paper-header-panel>
    </template>
</dom-module>

<script>
    Polymer({
        is: "collection-view",
        properties: {
            client: Object,
            collections: {
                type: Array,
                value: [
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                    {},
                ]
            },
            imageWidth: {
                type: Number,
                value: 280
            },
            imageHeight: {
                type: Number,
                value: 240
            }
        },
        eventCallback: function (e) {
            this.imageWidth = e.target.immediateValue;
            this.imageHeight = (e.target.immediateValue / 28.0) * 24.0;
            console.log("ImageWidth:" + e.target.immediateValue);
        }
    });
</script>
